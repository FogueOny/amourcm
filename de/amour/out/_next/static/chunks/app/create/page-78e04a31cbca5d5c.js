(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[323],{1599:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>m});var t=r(5155),a=r(2115),i=r(8274),l=r(1976),n=r(2895);let o=(0,n.A)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),c=(0,n.A)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);var d=r(3168);function m(){let[e,s]=(0,a.useState)(""),[r,n]=(0,a.useState)(""),[m,x]=(0,a.useState)(""),[p,u]=(0,a.useState)(!1),[h,g]=(0,a.useState)(!1),[b,y]=(0,a.useState)({}),f=async s=>{if(s.preventDefault(),(()=>{let s={};return e.trim()||(s.name="Le pr\xe9nom est obligatoire"),r.trim()?r.length>500&&(s.message="Le message ne peut pas d\xe9passer 500 caract\xe8res"):s.message="Le message d'amour est obligatoire",y(s),0===Object.keys(s).length})()){u(!0);try{let{data:s,error:t}=await d.N.from("messages").insert([{recipient_name:e.trim(),love_message:r.trim()}]).select().single();if(t)throw t;let a="".concat(window.location.origin,"/love?id=").concat(s.id);x(a)}catch(e){console.error("Erreur lors de la cr\xe9ation:",e),alert("Une erreur s'est produite. Veuillez r\xe9essayer.")}finally{u(!1)}}},N=async()=>{try{await navigator.clipboard.writeText(m),g(!0),setTimeout(()=>g(!1),2e3)}catch(e){console.error("Erreur lors de la copie:",e)}};return(0,t.jsx)("div",{className:"min-h-screen p-4 flex items-center justify-center bg-gradient-to-br from-pink-100 to-white",children:(0,t.jsx)(i.P.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"w-full max-w-lg",children:(0,t.jsxs)("div",{className:"bg-white/90 backdrop-blur-sm rounded-3xl shadow-2xl p-8 border-2 border-pink-200 romantic-gradient",children:[(0,t.jsxs)(i.P.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"text-center mb-8",children:[(0,t.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-pink-100 rounded-full mb-4 heartbeat",children:(0,t.jsx)(l.A,{className:"w-8 h-8 text-pink-500 fill-current"})}),(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Message d'Amour"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Cr\xe9ez un message romantique personnalis\xe9"})]}),m?(0,t.jsxs)(i.P.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},className:"text-center space-y-6",children:[(0,t.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-xl p-4",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-green-800 mb-2",children:"✨ Message cr\xe9\xe9 avec succ\xe8s !"}),(0,t.jsx)("p",{className:"text-green-700 text-sm",children:"Votre lien magique est pr\xeat \xe0 \xeatre partag\xe9"})]}),(0,t.jsxs)("div",{className:"bg-gray-50 border-2 border-dashed border-gray-300 rounded-xl p-4",children:[(0,t.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"Votre lien \xe0 partager :"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"text",value:m,readOnly:!0,className:"flex-1 px-3 py-2 bg-white border border-gray-300 rounded-lg text-sm"}),(0,t.jsx)(i.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:N,className:"px-4 py-2 bg-pink-500 text-white rounded-lg hover:bg-pink-600 transition-colors",children:h?(0,t.jsx)(o,{className:"w-4 h-4"}):(0,t.jsx)(c,{className:"w-4 h-4"})})]}),h&&(0,t.jsx)("p",{className:"text-green-600 text-sm mt-2",children:"✓ Lien copi\xe9 !"})]}),(0,t.jsx)(i.P.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{s(""),n(""),x(""),y({}),g(!1)},className:"w-full bg-gradient-to-r from-gray-400 to-gray-600 text-white font-semibold py-3 px-6 rounded-xl hover:from-gray-500 hover:to-gray-700 transition-all duration-200",children:"Cr\xe9er un nouveau message"})]}):(0,t.jsxs)(i.P.form,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},onSubmit:f,className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"recipientName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Pr\xe9nom de votre bien-aim\xe9e *"}),(0,t.jsx)("input",{type:"text",id:"recipientName",value:e,onChange:e=>s(e.target.value),className:"w-full px-4 py-3 border-2 rounded-xl focus:ring-2 focus:ring-pink-300 focus:border-pink-400 transition-colors shadow-sm ".concat(b.name?"border-red-300":"border-pink-200"," hover:border-pink-300"),placeholder:"Sarah, Marie, Emma...",maxLength:100}),b.name&&(0,t.jsx)("p",{className:"text-red-500 text-sm mt-1",children:b.name})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"loveMessage",className:"block text-sm font-medium text-gray-700 mb-2",children:"Votre message d'amour *"}),(0,t.jsx)("textarea",{id:"loveMessage",value:r,onChange:e=>n(e.target.value),rows:4,className:"w-full px-4 py-3 border-2 rounded-xl focus:ring-2 focus:ring-pink-300 focus:border-pink-400 transition-colors resize-none shadow-sm ".concat(b.message?"border-red-300":"border-pink-200"," hover:border-pink-300"),placeholder:"Tu es la lumi\xe8re de ma vie, celle qui illumine mes journ\xe9es...",maxLength:500}),(0,t.jsxs)("div",{className:"flex justify-between items-center mt-1",children:[b.message&&(0,t.jsx)("p",{className:"text-red-500 text-sm",children:b.message}),(0,t.jsxs)("p",{className:"text-gray-400 text-sm ml-auto",children:[r.length,"/500"]})]})]}),(0,t.jsx)(i.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},type:"submit",disabled:p,className:"w-full bg-gradient-to-r from-pink-400 to-pink-600 text-white font-semibold py-4 px-6 rounded-xl hover:from-pink-500 hover:to-pink-700 transition-all duration-300 shadow-xl disabled:opacity-50 disabled:cursor-not-allowed border-2 border-pink-300",children:p?(0,t.jsxs)("div",{className:"flex items-center justify-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Cr\xe9ation en cours..."]}):"Cr\xe9er le message d'amour \uD83D\uDC95"})]})]})})})}},3168:(e,s,r)=>{"use strict";r.d(s,{N:()=>t});let t=(0,r(5647).UU)("https://utscyqrkxqpuzceggowa.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InV0c2N5cXJreHFwdXpjZWdnb3dhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQwNTE0NjcsImV4cCI6MjA2OTYyNzQ2N30.2xK7yqHZVPB8ZzI878KIIZLyfB3IFUaVfgLk5Z6hlDM")},7790:(e,s,r)=>{Promise.resolve().then(r.bind(r,1599))}},e=>{e.O(0,[821,647,441,964,358],()=>e(e.s=7790)),_N_E=e.O()}]);